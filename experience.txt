'use client';

import React from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { School, Briefcase, Calendar, Code } from 'lucide-react';
import { Badge } from '@/components/ui/badge';

export default function Experience({ userData }) {
    // Define your colors directly here (can be Tailwind colors too)
    const dashboardDarkBlue = 'text-blue-900';
    const dashboardBlue = 'text-blue-500';
    const dashboardLightBlue = 'bg-blue-100';
    const textColorGray = 'text-gray-600';

    const fadeInAnimation = `
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
    `;

    return (
        <div>
            <style>{fadeInAnimation}</style>
            <div className="animate-fade-in">
                <h2 className={`text-2xl font-bold mb-4 ${dashboardDarkBlue}`}>Experience & Education</h2>

                <Card className="section-card mb-8 rounded-lg shadow-md overflow-hidden">
                    <CardContent className="p-6">
                        <div className="flex items-center gap-2 mb-6">
                            <Briefcase className={`${dashboardBlue}`} />
                            <h3 className={`text-xl font-semibold ${dashboardDarkBlue}`}>Work Experience</h3>
                        </div>
                        <div className="ml-4 relative before:absolute before:top-0 before:bottom-0 before:left-[-0.5rem] before:w-[2px] before:bg-gray-300">
                            {userData?.experience?.map((exp, index) => (
                                <div key={exp.id} className="mb-4 relative pl-6 last:pb-0">
                                    <div className="absolute top-0 left-[-1rem] w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs">
                                        {/* You could add an icon or leave it as a dot */}
                                    </div>
                                    <div className="mb-1">
                                        <h4 className="font-bold text-lg">{exp.position}</h4>
                                        <div className={`font-medium ${dashboardBlue}`}>{exp.company}</div>
                                        <div className={`text-sm flex items-center gap-1 mb-2 ${textColorGray}`}>
                                            <Calendar size={14} />
                                            <span>{exp.startDate} - {exp.endDate ? exp.endDate : 'Present'}</span>
                                        </div>
                                    </div>
                                    <p className="text-gray-700 mb-3">{exp.description}</p>
                                    <div className="flex flex-wrap gap-2">
                                        {exp.skills?.map((skill, skillIndex) => (
                                            <Badge
                                                key={skillIndex}
                                                variant="secondary"
                                                className={`rounded-full px-3 py-1 ${dashboardLightBlue} ${dashboardDarkBlue}`}
                                            >
                                                {skill}
                                            </Badge>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </CardContent>
                </Card>

                <Card className="section-card rounded-lg shadow-md overflow-hidden">
                    <CardContent className="p-6">
                        <div className="flex items-center gap-2 mb-6">
                            <School className={`${dashboardBlue}`} />
                            <h3 className={`text-xl font-semibold ${dashboardDarkBlue}`}>Education</h3>
                        </div>
                        <div className="ml-4 relative before:absolute before:top-0 before:bottom-0 before:left-[-0.5rem] before:w-[2px] before:bg-gray-300">
                            {userData?.education?.map((edu, index) => (
                                <div key={index} className="mb-4 relative pl-6 last:pb-0">
                                    <div className="absolute top-0 left-[-1rem] w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs">
                                        {/* Dot for education */}
                                    </div>
                                    <div className="mb-1">
                                        <h4 className="font-bold text-lg">{edu.degree}</h4>
                                        <div className={`font-medium ${dashboardBlue}`}>{edu.institution}</div>
                                        {edu.year && (
                                            <div className={`text-sm flex items-center gap-1 mb-2 ${textColorGray}`}>
                                                <Calendar size={14} />
                                                <span>{edu.year}</span>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </CardContent>
                </Card>

                <Card className="section-card rounded-lg shadow-md overflow-hidden">
                    <CardContent className="p-6">
                        <div className="flex items-center gap-2 mb-6">
                            <Code className={`${dashboardBlue}`} />
                            <h3 className={`text-xl font-semibold ${dashboardDarkBlue}`}>Skills</h3>
                        </div>
                        <div className="flex flex-wrap gap-2">
                            {userData?.skills?.map((skill, index) => (
                                <Badge
                                    key={index}
                                    variant="secondary"
                                    className={`rounded-full px-3 py-1 ${dashboardLightBlue} ${dashboardDarkBlue}`}
                                >
                                    {skill}
                                </Badge>
                            ))}
                        </div>
                    </CardContent>
                </Card>
            </div>
        </div>
    );
}